
apply plugin: 'war'
apply plugin: 'com.bmuschko.cargo'

sourceCompatibility = 1.8

repositories {
    mavenCentral()

    maven {
        url "https://maven.java.net/content/repositories/staging/"
    }
}

dependencies {
//    providedCompile 'org.glassfish.jersey.media:jersey-media-multipart:2.21'
    providedCompile 'org.glassfish.jersey.core:jersey-server:2.21'
    providedCompile 'javax.ejb:javax.ejb-api:3.2'
    providedCompile 'org.eclipse.persistence:eclipselink:2.6.0'
    compile 'org.postgresql:postgresql:9.4-1202-jdbc42'

    testCompile group: 'junit', name: 'junit', version: '4.11'

    def cargoVersion = '1.4.5'
    cargo "org.codehaus.cargo:cargo-core-uberjar:$cargoVersion",
            "org.codehaus.cargo:cargo-ant:$cargoVersion"
    cargo 'org.glassfish.main.deployment:deployment-client:4.1'
}

buildscript {
    repositories {
        jcenter()
    }

    dependencies {
        classpath 'com.bmuschko:gradle-cargo-plugin:2.2.1'
    }
}

cargo {
    containerId = 'glassfish4x'

    remote {
        hostname = '192.168.1.9'
        username = 'admin'
        password = 'admin'
    }
}